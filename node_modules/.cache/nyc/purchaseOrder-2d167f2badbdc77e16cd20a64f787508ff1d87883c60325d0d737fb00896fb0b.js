function cov_1fhndpw9mn(){var path="/Users/nadinalqarawi/Desktop/Structural_Testing/purchaseOrder.js";var hash="eba2777fea8ad4c0909a5a88c817405b710a15b1";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/nadinalqarawi/Desktop/Structural_Testing/purchaseOrder.js",statementMap:{"0":{start:{line:23,column:23},end:{line:41,column:1}},"1":{start:{line:27,column:2},end:{line:38,column:17}},"2":{start:{line:28,column:4},end:{line:28,column:15}},"3":{start:{line:29,column:7},end:{line:38,column:17}},"4":{start:{line:30,column:4},end:{line:30,column:15}},"5":{start:{line:31,column:7},end:{line:38,column:17}},"6":{start:{line:32,column:4},end:{line:32,column:16}},"7":{start:{line:33,column:7},end:{line:38,column:17}},"8":{start:{line:34,column:4},end:{line:34,column:16}},"9":{start:{line:35,column:7},end:{line:38,column:17}},"10":{start:{line:36,column:4},end:{line:36,column:16}},"11":{start:{line:37,column:7},end:{line:38,column:17}},"12":{start:{line:38,column:4},end:{line:38,column:17}},"13":{start:{line:39,column:2},end:{line:39,column:16}},"14":{start:{line:80,column:20},end:{line:93,column:1}},"15":{start:{line:82,column:2},end:{line:91,column:3}},"16":{start:{line:83,column:4},end:{line:90,column:5}},"17":{start:{line:84,column:6},end:{line:84,column:39}},"18":{start:{line:85,column:6},end:{line:89,column:27}},"19":{start:{line:86,column:8},end:{line:86,column:25}},"20":{start:{line:87,column:11},end:{line:89,column:27}},"21":{start:{line:88,column:8},end:{line:88,column:34}},"22":{start:{line:89,column:11},end:{line:89,column:27}},"23":{start:{line:92,column:2},end:{line:92,column:19}},"24":{start:{line:96,column:20},end:{line:134,column:1}},"25":{start:{line:102,column:16},end:{line:102,column:59}},"26":{start:{line:103,column:16},end:{line:103,column:75}},"27":{start:{line:104,column:16},end:{line:104,column:84}},"28":{start:{line:106,column:2},end:{line:133,column:22}},"29":{start:{line:107,column:3},end:{line:131,column:25}},"30":{start:{line:119,column:6},end:{line:119,column:24}},"31":{start:{line:120,column:9},end:{line:131,column:25}},"32":{start:{line:129,column:7},end:{line:129,column:24}},"33":{start:{line:131,column:7},end:{line:131,column:25}},"34":{start:{line:133,column:4},end:{line:133,column:22}},"35":{start:{line:135,column:0},end:{line:135,column:109}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:23,column:23},end:{line:23,column:24}},loc:{start:{line:23,column:47},end:{line:41,column:1}},line:23},"1":{name:"(anonymous_1)",decl:{start:{line:80,column:20},end:{line:80,column:21}},loc:{start:{line:80,column:69},end:{line:93,column:1}},line:80},"2":{name:"(anonymous_2)",decl:{start:{line:96,column:20},end:{line:96,column:21}},loc:{start:{line:96,column:101},end:{line:134,column:1}},line:96}},branchMap:{"0":{loc:{start:{line:27,column:2},end:{line:38,column:17}},type:"if",locations:[{start:{line:27,column:2},end:{line:38,column:17}},{start:{line:27,column:2},end:{line:38,column:17}}],line:27},"1":{loc:{start:{line:27,column:6},end:{line:27,column:65}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:32}},{start:{line:27,column:36},end:{line:27,column:65}}],line:27},"2":{loc:{start:{line:29,column:7},end:{line:38,column:17}},type:"if",locations:[{start:{line:29,column:7},end:{line:38,column:17}},{start:{line:29,column:7},end:{line:38,column:17}}],line:29},"3":{loc:{start:{line:31,column:7},end:{line:38,column:17}},type:"if",locations:[{start:{line:31,column:7},end:{line:38,column:17}},{start:{line:31,column:7},end:{line:38,column:17}}],line:31},"4":{loc:{start:{line:33,column:7},end:{line:38,column:17}},type:"if",locations:[{start:{line:33,column:7},end:{line:38,column:17}},{start:{line:33,column:7},end:{line:38,column:17}}],line:33},"5":{loc:{start:{line:35,column:7},end:{line:38,column:17}},type:"if",locations:[{start:{line:35,column:7},end:{line:38,column:17}},{start:{line:35,column:7},end:{line:38,column:17}}],line:35},"6":{loc:{start:{line:37,column:7},end:{line:38,column:17}},type:"if",locations:[{start:{line:37,column:7},end:{line:38,column:17}},{start:{line:37,column:7},end:{line:38,column:17}}],line:37},"7":{loc:{start:{line:83,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:90,column:5}},{start:{line:83,column:4},end:{line:90,column:5}}],line:83},"8":{loc:{start:{line:85,column:6},end:{line:89,column:27}},type:"if",locations:[{start:{line:85,column:6},end:{line:89,column:27}},{start:{line:85,column:6},end:{line:89,column:27}}],line:85},"9":{loc:{start:{line:87,column:11},end:{line:89,column:27}},type:"if",locations:[{start:{line:87,column:11},end:{line:89,column:27}},{start:{line:87,column:11},end:{line:89,column:27}}],line:87},"10":{loc:{start:{line:106,column:2},end:{line:133,column:22}},type:"if",locations:[{start:{line:106,column:2},end:{line:133,column:22}},{start:{line:106,column:2},end:{line:133,column:22}}],line:106},"11":{loc:{start:{line:107,column:3},end:{line:131,column:25}},type:"if",locations:[{start:{line:107,column:3},end:{line:131,column:25}},{start:{line:107,column:3},end:{line:131,column:25}}],line:107},"12":{loc:{start:{line:107,column:7},end:{line:118,column:40}},type:"binary-expr",locations:[{start:{line:107,column:9},end:{line:107,column:32}},{start:{line:108,column:9},end:{line:108,column:27}},{start:{line:108,column:33},end:{line:108,column:50}},{start:{line:109,column:9},end:{line:109,column:39}},{start:{line:109,column:45},end:{line:109,column:66}},{start:{line:110,column:7},end:{line:110,column:25}},{start:{line:111,column:9},end:{line:111,column:27}},{start:{line:111,column:33},end:{line:111,column:50}},{start:{line:112,column:8},end:{line:112,column:38}},{start:{line:113,column:7},end:{line:113,column:25}},{start:{line:114,column:8},end:{line:114,column:26}},{start:{line:115,column:8},end:{line:115,column:29}},{start:{line:116,column:7},end:{line:116,column:27}},{start:{line:117,column:8},end:{line:117,column:26}},{start:{line:118,column:8},end:{line:118,column:38}}],line:107},"13":{loc:{start:{line:120,column:9},end:{line:131,column:25}},type:"if",locations:[{start:{line:120,column:9},end:{line:131,column:25}},{start:{line:120,column:9},end:{line:131,column:25}}],line:120},"14":{loc:{start:{line:121,column:5},end:{line:128,column:91}},type:"binary-expr",locations:[{start:{line:121,column:7},end:{line:121,column:30}},{start:{line:121,column:37},end:{line:121,column:55}},{start:{line:121,column:61},end:{line:121,column:78}},{start:{line:121,column:85},end:{line:121,column:106}},{start:{line:122,column:7},end:{line:122,column:30}},{start:{line:122,column:36},end:{line:122,column:61}},{start:{line:122,column:68},end:{line:122,column:98}},{start:{line:122,column:104},end:{line:122,column:125}},{start:{line:123,column:7},end:{line:123,column:25}},{start:{line:123,column:31},end:{line:123,column:49}},{start:{line:123,column:55},end:{line:123,column:76}},{start:{line:124,column:7},end:{line:124,column:25}},{start:{line:124,column:31},end:{line:124,column:48}},{start:{line:124,column:54},end:{line:124,column:75}},{start:{line:125,column:7},end:{line:125,column:27}},{start:{line:125,column:33},end:{line:125,column:51}},{start:{line:125,column:57},end:{line:125,column:78}},{start:{line:126,column:7},end:{line:126,column:24}},{start:{line:126,column:30},end:{line:126,column:48}},{start:{line:126,column:54},end:{line:126,column:84}},{start:{line:127,column:7},end:{line:127,column:24}},{start:{line:127,column:30},end:{line:127,column:48}},{start:{line:127,column:54},end:{line:127,column:75}},{start:{line:128,column:7},end:{line:128,column:29}},{start:{line:128,column:35},end:{line:128,column:53}},{start:{line:128,column:59},end:{line:128,column:89}}],line:121}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"13":[0,0],"14":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eba2777fea8ad4c0909a5a88c817405b710a15b1"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1fhndpw9mn=function(){return actualCoverage;};}return actualCoverage;}cov_1fhndpw9mn();/* istanbul ignore next*/var getAgeFactor=function(clientAccount){var factor;if(clientAccount.age<15||clientAccount.age>=95)factor=0;else if(clientAccount.age<25)factor=10;else if(clientAccount.age<35)factor=15;else if(clientAccount.age<55)factor=50;else if(clientAccount.age<65)factor=40;else if(clientAccount.age<95)factor=25;return factor;};cov_1fhndpw9mn().s[0]++;var getBalanceFactor=function(clientAccount){cov_1fhndpw9mn().f[0]++;var factor;cov_1fhndpw9mn().s[1]++;if((cov_1fhndpw9mn().b[1][0]++,clientAccount.balance<=0)||(cov_1fhndpw9mn().b[1][1]++,clientAccount.balance>=5000)){cov_1fhndpw9mn().b[0][0]++;cov_1fhndpw9mn().s[2]++;factor=0;}else{cov_1fhndpw9mn().b[0][1]++;cov_1fhndpw9mn().s[3]++;if(clientAccount.balance<100){cov_1fhndpw9mn().b[2][0]++;cov_1fhndpw9mn().s[4]++;factor=5;}else{cov_1fhndpw9mn().b[2][1]++;cov_1fhndpw9mn().s[5]++;if(clientAccount.balance<500){cov_1fhndpw9mn().b[3][0]++;cov_1fhndpw9mn().s[6]++;factor=15;}else{cov_1fhndpw9mn().b[3][1]++;cov_1fhndpw9mn().s[7]++;if(clientAccount.balance<1000){cov_1fhndpw9mn().b[4][0]++;cov_1fhndpw9mn().s[8]++;factor=30;}else{cov_1fhndpw9mn().b[4][1]++;cov_1fhndpw9mn().s[9]++;if(clientAccount.balance<2000){cov_1fhndpw9mn().b[5][0]++;cov_1fhndpw9mn().s[10]++;factor=50;}else{cov_1fhndpw9mn().b[5][1]++;cov_1fhndpw9mn().s[11]++;if(clientAccount.balance<5000){cov_1fhndpw9mn().b[6][0]++;cov_1fhndpw9mn().s[12]++;factor=100;}else{cov_1fhndpw9mn().b[6][1]++;}}}}}}cov_1fhndpw9mn().s[13]++;return factor;};/* istanbul ignore next*/var accountStatus=function(clientAccount){var factorA=getAgeFactor(clientAccount);var factorB=getBalanceFactor(clientAccount);var factorAcc=factorA*factorB;if(factorAcc===0)return"not-eligible";else if(factorAcc<100)return"very-low";else if(factorAcc<300)return"low";else if(factorAcc<700)return"medium";else if(factorAcc<1000)return"high";else return"excellent";};/* istanbul ignore next*/var creditStatus=function(clientAccount,creditCheckMode){var scoreThreshold;if(clientAccount.creditScore<0||clientAccount.creditScore>100)return"not-allowed";if(creditCheckMode==="restricted")scoreThreshold=50;else if(creditCheckMode==="default")scoreThreshold=80;if(clientAccount.creditScore>=scoreThreshold)return"high";else return"low";};cov_1fhndpw9mn().s[14]++;var productStatus=function(product,inventory,inventoryThreshold){cov_1fhndpw9mn().f[1]++;var quantity,i;cov_1fhndpw9mn().s[15]++;for(i=0;i<inventory.length;i++){cov_1fhndpw9mn().s[16]++;if(product===inventory[i].name){cov_1fhndpw9mn().b[7][0]++;cov_1fhndpw9mn().s[17]++;quantity=inventory[i].quantity;cov_1fhndpw9mn().s[18]++;if(quantity===0){cov_1fhndpw9mn().b[8][0]++;cov_1fhndpw9mn().s[19]++;return"soldout";}else{cov_1fhndpw9mn().b[8][1]++;cov_1fhndpw9mn().s[20]++;if(quantity<inventoryThreshold){cov_1fhndpw9mn().b[9][0]++;cov_1fhndpw9mn().s[21]++;return"available-to-all";}else{cov_1fhndpw9mn().b[9][1]++;cov_1fhndpw9mn().s[22]++;return"limited";}}}else{cov_1fhndpw9mn().b[7][1]++;}}cov_1fhndpw9mn().s[23]++;return"invalid";};cov_1fhndpw9mn().s[24]++;var orderHandling=function(clientAccount,product,inventory,inventoryThreshold,creditCheckMode){cov_1fhndpw9mn().f[2]++;// var aStatus = accountStatus(clientAccount);
// var cStatus = creditStatus(clientAccount, creditCheckMode);
// var pStatus = productStatus(product, inventory, inventoryThreshold);
var aStatus=(cov_1fhndpw9mn().s[25]++,module.exports.accountStatus(clientAccount));var cStatus=(cov_1fhndpw9mn().s[26]++,module.exports.creditStatus(clientAccount,creditCheckMode));var pStatus=(cov_1fhndpw9mn().s[27]++,module.exports.productStatus(product,inventory,inventoryThreshold));cov_1fhndpw9mn().s[28]++;if(pStatus!=="invalid"){cov_1fhndpw9mn().b[10][0]++;cov_1fhndpw9mn().s[29]++;if((cov_1fhndpw9mn().b[12][0]++,aStatus==="excellent")&&((cov_1fhndpw9mn().b[12][1]++,cStatus==="high")||(cov_1fhndpw9mn().b[12][2]++,cStatus==="low"))&&((cov_1fhndpw9mn().b[12][3]++,pStatus==="available-to-all")||(cov_1fhndpw9mn().b[12][4]++,pStatus==="limited"))||(cov_1fhndpw9mn().b[12][5]++,aStatus==="high")&&((cov_1fhndpw9mn().b[12][6]++,cStatus==="high")||(cov_1fhndpw9mn().b[12][7]++,cStatus==="low"))&&(cov_1fhndpw9mn().b[12][8]++,pStatus==="available-to-all")||(cov_1fhndpw9mn().b[12][9]++,aStatus==="high")&&(cov_1fhndpw9mn().b[12][10]++,cStatus==="high")&&(cov_1fhndpw9mn().b[12][11]++,pStatus==="limited")||(cov_1fhndpw9mn().b[12][12]++,aStatus==="medium")&&(cov_1fhndpw9mn().b[12][13]++,cStatus==="high")&&(cov_1fhndpw9mn().b[12][14]++,pStatus==="available-to-all")){cov_1fhndpw9mn().b[11][0]++;cov_1fhndpw9mn().s[30]++;return"accepted";}else{cov_1fhndpw9mn().b[11][1]++;cov_1fhndpw9mn().s[31]++;if((cov_1fhndpw9mn().b[14][0]++,aStatus==="excellent")&&((cov_1fhndpw9mn().b[14][1]++,cStatus==="high")||(cov_1fhndpw9mn().b[14][2]++,cStatus==="low"))&&(cov_1fhndpw9mn().b[14][3]++,pStatus==="soldout")||(cov_1fhndpw9mn().b[14][4]++,aStatus==="excellent")&&(cov_1fhndpw9mn().b[14][5]++,cStatus==="not-allowed")&&((cov_1fhndpw9mn().b[14][6]++,pStatus==="available-to-all")||(cov_1fhndpw9mn().b[14][7]++,pStatus==="limited"))||(cov_1fhndpw9mn().b[14][8]++,aStatus==="high")&&(cov_1fhndpw9mn().b[14][9]++,cStatus==="high")&&(cov_1fhndpw9mn().b[14][10]++,pStatus==="soldout")||(cov_1fhndpw9mn().b[14][11]++,aStatus==="high")&&(cov_1fhndpw9mn().b[14][12]++,cStatus==="low")&&(cov_1fhndpw9mn().b[14][13]++,pStatus==="limited")||(cov_1fhndpw9mn().b[14][14]++,aStatus==="medium")&&(cov_1fhndpw9mn().b[14][15]++,cStatus==="high")&&(cov_1fhndpw9mn().b[14][16]++,pStatus==="limited")||(cov_1fhndpw9mn().b[14][17]++,aStatus==="low")&&(cov_1fhndpw9mn().b[14][18]++,cStatus==="high")&&(cov_1fhndpw9mn().b[14][19]++,pStatus==="available-to-all")||(cov_1fhndpw9mn().b[14][20]++,aStatus==="low")&&(cov_1fhndpw9mn().b[14][21]++,cStatus==="high")&&(cov_1fhndpw9mn().b[14][22]++,pStatus==="limited")||(cov_1fhndpw9mn().b[14][23]++,aStatus==="very-low")&&(cov_1fhndpw9mn().b[14][24]++,cStatus==="high")&&(cov_1fhndpw9mn().b[14][25]++,pStatus==="available-to-all")){cov_1fhndpw9mn().b[13][0]++;cov_1fhndpw9mn().s[32]++;return"pending";}else{cov_1fhndpw9mn().b[13][1]++;cov_1fhndpw9mn().s[33]++;return"rejected";}}}else{cov_1fhndpw9mn().b[10][1]++;cov_1fhndpw9mn().s[34]++;return"rejected";}};cov_1fhndpw9mn().s[35]++;module.exports={orderHandling,accountStatus,creditStatus,productStatus,getAgeFactor,getBalanceFactor};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBZ2VGYWN0b3IiLCJjbGllbnRBY2NvdW50IiwiZmFjdG9yIiwiYWdlIiwiZ2V0QmFsYW5jZUZhY3RvciIsImJhbGFuY2UiLCJhY2NvdW50U3RhdHVzIiwiZmFjdG9yQSIsImZhY3RvckIiLCJmYWN0b3JBY2MiLCJjcmVkaXRTdGF0dXMiLCJjcmVkaXRDaGVja01vZGUiLCJzY29yZVRocmVzaG9sZCIsImNyZWRpdFNjb3JlIiwicHJvZHVjdFN0YXR1cyIsInByb2R1Y3QiLCJpbnZlbnRvcnkiLCJpbnZlbnRvcnlUaHJlc2hvbGQiLCJxdWFudGl0eSIsImkiLCJsZW5ndGgiLCJuYW1lIiwib3JkZXJIYW5kbGluZyIsImFTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIiwiY1N0YXR1cyIsInBTdGF0dXMiXSwic291cmNlcyI6WyJwdXJjaGFzZU9yZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0Ki9cbnZhciBnZXRBZ2VGYWN0b3IgPSBmdW5jdGlvbihjbGllbnRBY2NvdW50KSB7XG5cbiAgdmFyIGZhY3RvcjtcblxuICBpZiAoY2xpZW50QWNjb3VudC5hZ2UgPCAxNSB8fCBjbGllbnRBY2NvdW50LmFnZSA+PSA5NSlcbiAgICBmYWN0b3IgPSAwO1xuICBlbHNlIGlmIChjbGllbnRBY2NvdW50LmFnZSA8IDI1KVxuICAgIGZhY3RvciA9IDEwO1xuICBlbHNlIGlmIChjbGllbnRBY2NvdW50LmFnZSA8IDM1KVxuICAgIGZhY3RvciA9IDE1O1xuICBlbHNlIGlmIChjbGllbnRBY2NvdW50LmFnZSA8IDU1KVxuICAgIGZhY3RvciA9IDUwO1xuICBlbHNlIGlmIChjbGllbnRBY2NvdW50LmFnZSA8IDY1KVxuICAgIGZhY3RvciA9IDQwO1xuICBlbHNlIGlmIChjbGllbnRBY2NvdW50LmFnZSA8IDk1KVxuICAgIGZhY3RvciA9IDI1O1xuXG4gIHJldHVybiBmYWN0b3I7XG5cbn1cblxudmFyIGdldEJhbGFuY2VGYWN0b3IgPSBmdW5jdGlvbihjbGllbnRBY2NvdW50KSB7XG4gIHZhciBmYWN0b3I7XG5cblxuICBpZiAoY2xpZW50QWNjb3VudC5iYWxhbmNlIDw9IDAgfHwgY2xpZW50QWNjb3VudC5iYWxhbmNlID49IDUwMDApXG4gICAgZmFjdG9yID0gMDtcbiAgZWxzZSBpZiAoY2xpZW50QWNjb3VudC5iYWxhbmNlIDwgMTAwKVxuICAgIGZhY3RvciA9IDU7XG4gIGVsc2UgaWYgKGNsaWVudEFjY291bnQuYmFsYW5jZSA8IDUwMClcbiAgICBmYWN0b3IgPSAxNTtcbiAgZWxzZSBpZiAoY2xpZW50QWNjb3VudC5iYWxhbmNlIDwgMTAwMClcbiAgICBmYWN0b3IgPSAzMDtcbiAgZWxzZSBpZiAoY2xpZW50QWNjb3VudC5iYWxhbmNlIDwgMjAwMClcbiAgICBmYWN0b3IgPSA1MDtcbiAgZWxzZSBpZiAoY2xpZW50QWNjb3VudC5iYWxhbmNlIDwgNTAwMClcbiAgICBmYWN0b3IgPSAxMDA7XG4gIHJldHVybiBmYWN0b3I7XG5cbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQqL1xudmFyIGFjY291bnRTdGF0dXMgPSBmdW5jdGlvbihjbGllbnRBY2NvdW50KSB7XG5cbiAgdmFyIGZhY3RvckEgPSBnZXRBZ2VGYWN0b3IoY2xpZW50QWNjb3VudCk7XG4gIHZhciBmYWN0b3JCID0gZ2V0QmFsYW5jZUZhY3RvcihjbGllbnRBY2NvdW50KTtcbiAgdmFyIGZhY3RvckFjYyA9IGZhY3RvckEgKiBmYWN0b3JCO1xuXG4gIGlmIChmYWN0b3JBY2MgPT09IDApXG4gICAgcmV0dXJuIFwibm90LWVsaWdpYmxlXCI7XG4gIGVsc2UgaWYgKGZhY3RvckFjYyA8IDEwMClcbiAgICByZXR1cm4gXCJ2ZXJ5LWxvd1wiO1xuICBlbHNlIGlmIChmYWN0b3JBY2MgPCAzMDApXG4gICAgcmV0dXJuIFwibG93XCI7XG4gIGVsc2UgaWYgKGZhY3RvckFjYyA8IDcwMClcbiAgICByZXR1cm4gXCJtZWRpdW1cIjtcbiAgZWxzZSBpZiAoZmFjdG9yQWNjIDwgMTAwMClcbiAgICByZXR1cm4gXCJoaWdoXCI7XG4gIGVsc2VcbiAgICByZXR1cm4gXCJleGNlbGxlbnRcIjtcblxufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCovXG52YXIgY3JlZGl0U3RhdHVzID0gZnVuY3Rpb24oY2xpZW50QWNjb3VudCwgY3JlZGl0Q2hlY2tNb2RlKSB7XG4gIHZhciBzY29yZVRocmVzaG9sZDtcblxuICBpZiAoY2xpZW50QWNjb3VudC5jcmVkaXRTY29yZSA8IDAgfHwgY2xpZW50QWNjb3VudC5jcmVkaXRTY29yZSA+IDEwMClcbiAgICByZXR1cm4gXCJub3QtYWxsb3dlZFwiO1xuICBpZiAoY3JlZGl0Q2hlY2tNb2RlID09PSBcInJlc3RyaWN0ZWRcIilcbiAgICBzY29yZVRocmVzaG9sZCA9IDUwO1xuICBlbHNlIGlmIChjcmVkaXRDaGVja01vZGUgPT09IFwiZGVmYXVsdFwiKVxuICAgIHNjb3JlVGhyZXNob2xkID0gODA7XG4gIGlmIChjbGllbnRBY2NvdW50LmNyZWRpdFNjb3JlID49IHNjb3JlVGhyZXNob2xkKVxuICAgIHJldHVybiBcImhpZ2hcIjtcbiAgZWxzZSByZXR1cm4gXCJsb3dcIjtcbn1cblxudmFyIHByb2R1Y3RTdGF0dXMgPSBmdW5jdGlvbihwcm9kdWN0LCBpbnZlbnRvcnksIGludmVudG9yeVRocmVzaG9sZCkge1xuICB2YXIgcXVhbnRpdHksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBpbnZlbnRvcnkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocHJvZHVjdCA9PT0gaW52ZW50b3J5W2ldLm5hbWUpIHtcbiAgICAgIHF1YW50aXR5ID0gaW52ZW50b3J5W2ldLnF1YW50aXR5O1xuICAgICAgaWYgKHF1YW50aXR5ID09PSAwKVxuICAgICAgICByZXR1cm4gXCJzb2xkb3V0XCI7XG4gICAgICBlbHNlIGlmIChxdWFudGl0eSA8IGludmVudG9yeVRocmVzaG9sZClcbiAgICAgICAgcmV0dXJuIFwiYXZhaWxhYmxlLXRvLWFsbFwiO1xuICAgICAgZWxzZSByZXR1cm4gXCJsaW1pdGVkXCJcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiaW52YWxpZFwiO1xufVxuXG5cbnZhciBvcmRlckhhbmRsaW5nID0gZnVuY3Rpb24oY2xpZW50QWNjb3VudCwgcHJvZHVjdCwgaW52ZW50b3J5LCBpbnZlbnRvcnlUaHJlc2hvbGQsIGNyZWRpdENoZWNrTW9kZSkge1xuXG4gIC8vIHZhciBhU3RhdHVzID0gYWNjb3VudFN0YXR1cyhjbGllbnRBY2NvdW50KTtcbiAgLy8gdmFyIGNTdGF0dXMgPSBjcmVkaXRTdGF0dXMoY2xpZW50QWNjb3VudCwgY3JlZGl0Q2hlY2tNb2RlKTtcbiAgLy8gdmFyIHBTdGF0dXMgPSBwcm9kdWN0U3RhdHVzKHByb2R1Y3QsIGludmVudG9yeSwgaW52ZW50b3J5VGhyZXNob2xkKTtcblxuICB2YXIgYVN0YXR1cyA9IG1vZHVsZS5leHBvcnRzLmFjY291bnRTdGF0dXMoY2xpZW50QWNjb3VudCk7XG4gIHZhciBjU3RhdHVzID0gbW9kdWxlLmV4cG9ydHMuY3JlZGl0U3RhdHVzKGNsaWVudEFjY291bnQsIGNyZWRpdENoZWNrTW9kZSk7XG4gIHZhciBwU3RhdHVzID0gbW9kdWxlLmV4cG9ydHMucHJvZHVjdFN0YXR1cyhwcm9kdWN0LCBpbnZlbnRvcnksIGludmVudG9yeVRocmVzaG9sZCk7XG5cbiAgaWYgKHBTdGF0dXMgIT09IFwiaW52YWxpZFwiKSB7XG5cdCAgaWYgKCgoYVN0YXR1cyA9PT0gXCJleGNlbGxlbnRcIikgJiZcbiAgIFx0ICAgKChjU3RhdHVzID09PSBcImhpZ2hcIikgfHwgKGNTdGF0dXMgPT09IFwibG93XCIpKSAmJlxuICAgIFx0ICAoKHBTdGF0dXMgPT09IFwiYXZhaWxhYmxlLXRvLWFsbFwiKSB8fCAocFN0YXR1cyA9PT0gXCJsaW1pdGVkXCIpKSkgfHxcbiAgIFx0ICgoYVN0YXR1cyA9PT0gXCJoaWdoXCIpICYmXG4gICAgXHQgICgoY1N0YXR1cyA9PT0gXCJoaWdoXCIpIHx8IChjU3RhdHVzID09PSBcImxvd1wiKSkgJiZcbiAgICBcdCAgKHBTdGF0dXMgPT09IFwiYXZhaWxhYmxlLXRvLWFsbFwiKSkgfHxcbiAgIFx0ICgoYVN0YXR1cyA9PT0gXCJoaWdoXCIpICYmXG4gICBcdCAgIChjU3RhdHVzID09PSBcImhpZ2hcIikgJiZcbiAgICBcdCAgKHBTdGF0dXMgPT09IFwibGltaXRlZFwiKSkgfHxcbiAgIFx0ICgoYVN0YXR1cyA9PT0gXCJtZWRpdW1cIikgJiZcbiAgICBcdCAgKGNTdGF0dXMgPT09IFwiaGlnaFwiKSAmJlxuICAgICBcdCAocFN0YXR1cyA9PT0gXCJhdmFpbGFibGUtdG8tYWxsXCIpKSlcbiAgICAgIHJldHVybiBcImFjY2VwdGVkXCI7XG4gICBcdGVsc2UgaWYgKFxuICBcdCAgKChhU3RhdHVzID09PSBcImV4Y2VsbGVudFwiKSAmJiAoKGNTdGF0dXMgPT09IFwiaGlnaFwiKSB8fCAoY1N0YXR1cyA9PT0gXCJsb3dcIikpICYmIChwU3RhdHVzID09PSBcInNvbGRvdXRcIikpIHx8XG4gICBcdCAoKGFTdGF0dXMgPT09IFwiZXhjZWxsZW50XCIpICYmIChjU3RhdHVzID09PSBcIm5vdC1hbGxvd2VkXCIpICYmICgocFN0YXR1cyA9PT0gXCJhdmFpbGFibGUtdG8tYWxsXCIpIHx8IChwU3RhdHVzID09PSBcImxpbWl0ZWRcIikpKSB8fFxuICAgXHQgKChhU3RhdHVzID09PSBcImhpZ2hcIikgJiYgKGNTdGF0dXMgPT09IFwiaGlnaFwiKSAmJiAocFN0YXR1cyA9PT0gXCJzb2xkb3V0XCIpKSB8fFxuICAgXHQgKChhU3RhdHVzID09PSBcImhpZ2hcIikgJiYgKGNTdGF0dXMgPT09IFwibG93XCIpICYmIChwU3RhdHVzID09PSBcImxpbWl0ZWRcIikpIHx8XG4gICBcdCAoKGFTdGF0dXMgPT09IFwibWVkaXVtXCIpICYmIChjU3RhdHVzID09PSBcImhpZ2hcIikgJiYgKHBTdGF0dXMgPT09IFwibGltaXRlZFwiKSkgfHxcbiAgIFx0ICgoYVN0YXR1cyA9PT0gXCJsb3dcIikgJiYgKGNTdGF0dXMgPT09IFwiaGlnaFwiKSAmJiAocFN0YXR1cyA9PT0gXCJhdmFpbGFibGUtdG8tYWxsXCIpKSB8fFxuICAgXHQgKChhU3RhdHVzID09PSBcImxvd1wiKSAmJiAoY1N0YXR1cyA9PT0gXCJoaWdoXCIpICYmIChwU3RhdHVzID09PSBcImxpbWl0ZWRcIikpIHx8XG4gICBcdCAoKGFTdGF0dXMgPT09IFwidmVyeS1sb3dcIikgJiYgKGNTdGF0dXMgPT09IFwiaGlnaFwiKSAmJiAocFN0YXR1cyA9PT0gXCJhdmFpbGFibGUtdG8tYWxsXCIpKSlcbiAgICAgICByZXR1cm4gXCJwZW5kaW5nXCI7XG4gICAgIGVsc2VcbiAgICAgICByZXR1cm4gXCJyZWplY3RlZFwiO1xuXHR9IGVsc2VcbiAgICByZXR1cm4gXCJyZWplY3RlZFwiO1xufVxubW9kdWxlLmV4cG9ydHMgPSB7b3JkZXJIYW5kbGluZywgYWNjb3VudFN0YXR1cywgY3JlZGl0U3RhdHVzLCBwcm9kdWN0U3RhdHVzLCBnZXRBZ2VGYWN0b3IsIGdldEJhbGFuY2VGYWN0b3J9OyJdLCJtYXBwaW5ncyI6Im0xUUFlWTtBQUFBLDJGQWZaLHlCQUNBLEdBQUlBLGFBQVksQ0FBRyxTQUFTQyxhQUFhLENBQUUsQ0FFekMsR0FBSUMsT0FBTSxDQUVWLEdBQUlELGFBQWEsQ0FBQ0UsR0FBRyxDQUFHLEVBQUUsRUFBSUYsYUFBYSxDQUFDRSxHQUFHLEVBQUksRUFBRSxDQUNuREQsTUFBTSxDQUFHLENBQUMsQ0FBQyxJQUNSLElBQUlELGFBQWEsQ0FBQ0UsR0FBRyxDQUFHLEVBQUUsQ0FDN0JELE1BQU0sQ0FBRyxFQUFFLENBQUMsSUFDVCxJQUFJRCxhQUFhLENBQUNFLEdBQUcsQ0FBRyxFQUFFLENBQzdCRCxNQUFNLENBQUcsRUFBRSxDQUFDLElBQ1QsSUFBSUQsYUFBYSxDQUFDRSxHQUFHLENBQUcsRUFBRSxDQUM3QkQsTUFBTSxDQUFHLEVBQUUsQ0FBQyxJQUNULElBQUlELGFBQWEsQ0FBQ0UsR0FBRyxDQUFHLEVBQUUsQ0FDN0JELE1BQU0sQ0FBRyxFQUFFLENBQUMsSUFDVCxJQUFJRCxhQUFhLENBQUNFLEdBQUcsQ0FBRyxFQUFFLENBQzdCRCxNQUFNLENBQUcsRUFBRSxDQUViLE1BQU9BLE9BQU0sQ0FFZixDQUFDLHlCQUVELEdBQUlFLGlCQUFnQixDQUFHLFNBQVNILGFBQWEsQ0FBRSx5QkFDN0MsR0FBSUMsT0FBTSxDQUFDLHdCQUdYLEdBQUksNEJBQUFELGFBQWEsQ0FBQ0ksT0FBTyxFQUFJLENBQUMsK0JBQUlKLGFBQWEsQ0FBQ0ksT0FBTyxFQUFJLElBQUksRUFDN0Qsb0RBQUFILE1BQU0sQ0FBRyxDQUFDLEVBQUMsSUFDUix1REFBSUQsYUFBYSxDQUFDSSxPQUFPLENBQUcsR0FBRyxDQUNsQyxvREFBQUgsTUFBTSxDQUFHLENBQUMsRUFBQyxJQUNSLHVEQUFJRCxhQUFhLENBQUNJLE9BQU8sQ0FBRyxHQUFHLENBQ2xDLG9EQUFBSCxNQUFNLENBQUcsRUFBRSxFQUFDLElBQ1QsdURBQUlELGFBQWEsQ0FBQ0ksT0FBTyxDQUFHLElBQUksQ0FDbkMsb0RBQUFILE1BQU0sQ0FBRyxFQUFFLEVBQUMsSUFDVCx1REFBSUQsYUFBYSxDQUFDSSxPQUFPLENBQUcsSUFBSSxDQUNuQyxxREFBQUgsTUFBTSxDQUFHLEVBQUUsRUFBQyxJQUNULHdEQUFJRCxhQUFhLENBQUNJLE9BQU8sQ0FBRyxJQUFJLENBQ25DLHFEQUFBSCxNQUFNLENBQUcsR0FBRyxFQUFDLGlDQUFELEtBQUMseUJBQ2YsTUFBT0EsT0FBTSxDQUVmLENBQUMsQ0FFRCx5QkFDQSxHQUFJSSxjQUFhLENBQUcsU0FBU0wsYUFBYSxDQUFFLENBRTFDLEdBQUlNLFFBQU8sQ0FBR1AsWUFBWSxDQUFDQyxhQUFhLENBQUMsQ0FDekMsR0FBSU8sUUFBTyxDQUFHSixnQkFBZ0IsQ0FBQ0gsYUFBYSxDQUFDLENBQzdDLEdBQUlRLFVBQVMsQ0FBR0YsT0FBTyxDQUFHQyxPQUFPLENBRWpDLEdBQUlDLFNBQVMsR0FBSyxDQUFDLENBQ2pCLE1BQU8sY0FBYyxDQUFDLElBQ25CLElBQUlBLFNBQVMsQ0FBRyxHQUFHLENBQ3RCLE1BQU8sVUFBVSxDQUFDLElBQ2YsSUFBSUEsU0FBUyxDQUFHLEdBQUcsQ0FDdEIsTUFBTyxLQUFLLENBQUMsSUFDVixJQUFJQSxTQUFTLENBQUcsR0FBRyxDQUN0QixNQUFPLFFBQVEsQ0FBQyxJQUNiLElBQUlBLFNBQVMsQ0FBRyxJQUFJLENBQ3ZCLE1BQU8sTUFBTSxDQUFDLElBRWQsT0FBTyxXQUFXLENBRXRCLENBQUMsQ0FFRCx5QkFDQSxHQUFJQyxhQUFZLENBQUcsU0FBU1QsYUFBYSxDQUFFVSxlQUFlLENBQUUsQ0FDMUQsR0FBSUMsZUFBYyxDQUVsQixHQUFJWCxhQUFhLENBQUNZLFdBQVcsQ0FBRyxDQUFDLEVBQUlaLGFBQWEsQ0FBQ1ksV0FBVyxDQUFHLEdBQUcsQ0FDbEUsTUFBTyxhQUFhLENBQ3RCLEdBQUlGLGVBQWUsR0FBSyxZQUFZLENBQ2xDQyxjQUFjLENBQUcsRUFBRSxDQUFDLElBQ2pCLElBQUlELGVBQWUsR0FBSyxTQUFTLENBQ3BDQyxjQUFjLENBQUcsRUFBRSxDQUNyQixHQUFJWCxhQUFhLENBQUNZLFdBQVcsRUFBSUQsY0FBYyxDQUM3QyxNQUFPLE1BQU0sQ0FBQyxJQUNYLE9BQU8sS0FBSyxDQUNuQixDQUFDLDBCQUVELEdBQUlFLGNBQWEsQ0FBRyxTQUFTQyxPQUFPLENBQUVDLFNBQVMsQ0FBRUMsa0JBQWtCLENBQUUseUJBQ25FLEdBQUlDLFNBQVEsQ0FBRUMsQ0FBQyxDQUFDLHlCQUNoQixJQUFLQSxDQUFDLENBQUcsQ0FBQyxDQUFFQSxDQUFDLENBQUdILFNBQVMsQ0FBQ0ksTUFBTSxDQUFFRCxDQUFDLEVBQUUsQ0FBRSwwQkFDckMsR0FBSUosT0FBTyxHQUFLQyxTQUFTLENBQUNHLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUUscURBQ2pDSCxRQUFRLENBQUdGLFNBQVMsQ0FBQ0csQ0FBQyxDQUFDLENBQUNELFFBQVEsQ0FBQyx5QkFDakMsR0FBSUEsUUFBUSxHQUFLLENBQUMsQ0FDaEIsMkRBQU8sU0FBUyxFQUFDLElBQ2Qsd0RBQUlBLFFBQVEsQ0FBR0Qsa0JBQWtCLENBQ3BDLDJEQUFPLGtCQUFrQixFQUFDLElBQ3ZCLDJEQUFPLFNBQVMsQ0FBRCxFQUN0QixDQUFDLGlDQUNILENBQUMseUJBQ0QsTUFBTyxTQUFTLENBQ2xCLENBQUMsMEJBR0QsR0FBSUssY0FBYSxDQUFHLFNBQVNyQixhQUFhLENBQUVjLE9BQU8sQ0FBRUMsU0FBUyxDQUFFQyxrQkFBa0IsQ0FBRU4sZUFBZSxDQUFFLHlCQUVuRztBQUNBO0FBQ0E7QUFFQSxHQUFJWSxRQUFPLDJCQUFHQyxNQUFNLENBQUNDLE9BQU8sQ0FBQ25CLGFBQWEsQ0FBQ0wsYUFBYSxDQUFDLEVBQ3pELEdBQUl5QixRQUFPLDJCQUFHRixNQUFNLENBQUNDLE9BQU8sQ0FBQ2YsWUFBWSxDQUFDVCxhQUFhLENBQUVVLGVBQWUsQ0FBQyxFQUN6RSxHQUFJZ0IsUUFBTywyQkFBR0gsTUFBTSxDQUFDQyxPQUFPLENBQUNYLGFBQWEsQ0FBQ0MsT0FBTyxDQUFFQyxTQUFTLENBQUVDLGtCQUFrQixDQUFDLEVBQUMseUJBRW5GLEdBQUlVLE9BQU8sR0FBSyxTQUFTLENBQUUsc0RBQzFCLEdBQUssNkJBQUNKLE9BQU8sR0FBSyxXQUFXLElBQ3hCLDZCQUFDRyxPQUFPLEdBQUssTUFBTSxnQ0FBTUEsT0FBTyxHQUFLLEtBQUssQ0FBQyxDQUFDLEdBQzVDLDZCQUFDQyxPQUFPLEdBQUssa0JBQWtCLGdDQUFNQSxPQUFPLEdBQUssU0FBUyxDQUFDLENBQUMsRUFDOUQsNkJBQUNKLE9BQU8sR0FBSyxNQUFNLElBQ2pCLDZCQUFDRyxPQUFPLEdBQUssTUFBTSxnQ0FBTUEsT0FBTyxHQUFLLEtBQUssQ0FBQyxDQUFDLCtCQUM1Q0MsT0FBTyxHQUFLLGtCQUFrQixDQUFFLEVBQ2xDLDZCQUFDSixPQUFPLEdBQUssTUFBTSxpQ0FDakJHLE9BQU8sR0FBSyxNQUFNLENBQUMsZ0NBQ25CQyxPQUFPLEdBQUssU0FBUyxDQUFFLEVBQ3pCLDhCQUFDSixPQUFPLEdBQUssUUFBUSxpQ0FDbkJHLE9BQU8sR0FBSyxNQUFNLENBQUMsZ0NBQ25CQyxPQUFPLEdBQUssa0JBQWtCLENBQUUsQ0FDbEMsNERBQU8sVUFBVSxFQUFDLElBQ2YseURBQ0gsNkJBQUNKLE9BQU8sR0FBSyxXQUFXLElBQU0sNkJBQUNHLE9BQU8sR0FBSyxNQUFNLGdDQUFNQSxPQUFPLEdBQUssS0FBSyxDQUFDLENBQUMsK0JBQUtDLE9BQU8sR0FBSyxTQUFTLENBQUMsRUFDckcsNkJBQUNKLE9BQU8sR0FBSyxXQUFXLGdDQUFNRyxPQUFPLEdBQUssYUFBYSxDQUFDLEdBQUssNkJBQUNDLE9BQU8sR0FBSyxrQkFBa0IsZ0NBQU1BLE9BQU8sR0FBSyxTQUFTLENBQUMsQ0FBRSxFQUMxSCw2QkFBQ0osT0FBTyxHQUFLLE1BQU0sZ0NBQU1HLE9BQU8sR0FBSyxNQUFNLENBQUMsZ0NBQUtDLE9BQU8sR0FBSyxTQUFTLENBQUUsRUFDeEUsOEJBQUNKLE9BQU8sR0FBSyxNQUFNLGlDQUFNRyxPQUFPLEdBQUssS0FBSyxDQUFDLGdDQUFLQyxPQUFPLEdBQUssU0FBUyxDQUFFLEVBQ3ZFLDhCQUFDSixPQUFPLEdBQUssUUFBUSxpQ0FBTUcsT0FBTyxHQUFLLE1BQU0sQ0FBQyxnQ0FBS0MsT0FBTyxHQUFLLFNBQVMsQ0FBRSxFQUMxRSw4QkFBQ0osT0FBTyxHQUFLLEtBQUssaUNBQU1HLE9BQU8sR0FBSyxNQUFNLENBQUMsZ0NBQUtDLE9BQU8sR0FBSyxrQkFBa0IsQ0FBRSxFQUNoRiw4QkFBQ0osT0FBTyxHQUFLLEtBQUssaUNBQU1HLE9BQU8sR0FBSyxNQUFNLENBQUMsZ0NBQUtDLE9BQU8sR0FBSyxTQUFTLENBQUUsRUFDdkUsOEJBQUNKLE9BQU8sR0FBSyxVQUFVLGlDQUFNRyxPQUFPLEdBQUssTUFBTSxDQUFDLGdDQUFLQyxPQUFPLEdBQUssa0JBQWtCLENBQUUsQ0FDcEYsNERBQU8sU0FBUyxFQUFDLElBRWpCLDREQUFPLFVBQVUsR0FDdkIsQ0FBQyxJQUNFLDREQUFPLFVBQVUsRUFDckIsQ0FBQywwQkFDREgsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0gsYUFBYSxDQUFFaEIsYUFBYSxDQUFFSSxZQUFZLENBQUVJLGFBQWEsQ0FBRWQsWUFBWSxDQUFFSSxnQkFBZ0IsQ0FBQyJ9